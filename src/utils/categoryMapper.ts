/**
 * 편의점별 다양한 카테고리를 통일된 대분류로 매핑
 */

export type UnifiedCategory =
  | "식품/간편식"
  | "과자/스낵"
  | "음료"
  | "생활용품"
  | "기타";

// 카테고리 매핑 규칙
const CATEGORY_MAPPING: Record<string, UnifiedCategory> = {
  // 식품/간편식
  간편식사: "식품/간편식",
  간편식: "식품/간편식",
  즉석식: "식품/간편식",
  즉석밥: "식품/간편식",
  즉석밥류: "식품/간편식",
  즉석요리류: "식품/간편식",
  냉동즉석식: "식품/간편식",
  냉동간편식: "식품/간편식",
  가공식사: "식품/간편식",
  식재료: "식품/간편식",
  덮밥류: "식품/간편식",
  국류: "식품/간편식",
  국: "식품/간편식",
  국밥류: "식품/간편식",
  찌개류: "식품/간편식",
  탕류: "식품/간편식",
  수프류: "식품/간편식",
  죽: "식품/간편식",
  면류: "식품/간편식",
  봉지면: "식품/간편식",
  용기면: "식품/간편식",
  기타면류: "식품/간편식",
  냉장면: "식품/간편식",
  냉동만두: "식품/간편식",
  냉동밥: "식품/간편식",
  냉장국탕찌개: "식품/간편식",
  냉장베이커리간편식: "식품/간편식",
  메인반찬: "식품/간편식",
  밑반찬: "식품/간편식",
  반찬류: "식품/간편식",
  안주류: "식품/간편식",
  육가공류: "식품/간편식",
  가공식품: "식품/간편식",
  통조림: "식품/간편식",
  김치: "식품/간편식",
  두부: "식품/간편식",
  맛살: "식품/간편식",
  치즈: "식품/간편식",
  치즈류: "식품/간편식",
  정육: "식품/간편식",
  "1차축산물(생란": "식품/간편식",
  가공란: "식품/간편식",
  햄: "식품/간편식",
  베이커리: "식품/간편식",
  빵: "식품/간편식",
  NB빵: "식품/간편식",
  떡: "식품/간편식",
  튀김류: "식품/간편식",
  핫바: "식품/간편식",

  // 과자/스낵
  과자: "과자/스낵",
  스낵: "과자/스낵",
  감자스낵: "과자/스낵",
  일반스낵: "과자/스낵",
  비스켓: "과자/스낵",
  쿠키: "과자/스낵",
  파이: "과자/스낵",
  초콜릿: "과자/스낵",
  캔디: "과자/스낵",
  소프트캔디: "과자/스낵",
  하드캔디: "과자/스낵",
  기능성캔디: "과자/스낵",
  토이캔디: "과자/스낵",
  젤리: "과자/스낵",
  냉장젤리: "과자/스낵",
  바: "과자/스낵",
  시리얼바: "과자/스낵",
  아이스크림: "과자/스낵",
  콘모나카: "과자/스낵",
  튜브: "과자/스낵",
  디저트: "과자/스낵",
  시리얼: "과자/스낵",
  시리얼류: "과자/스낵",

  // 음료
  음료: "음료",
  생수: "음료",
  국산생수: "음료",
  탄산수: "음료",
  탄산음료: "음료",
  일반탄산음료: "음료",
  주스: "음료",
  과즙음료: "음료",
  냉장주스: "음료",
  커피음료: "음료",
  커피차: "음료",
  커피차류: "음료",
  냉장커피: "음료",
  캔커피: "음료",
  "캔/병커피": "음료",
  분말커피류: "음료",
  원컵류: "음료",
  차류: "음료",
  차음료: "음료",
  우유: "음료",
  흰우유: "음료",
  가공유: "음료",
  유가공류: "음료",
  요구르트: "음료",
  호상요구르트: "음료",
  발효유: "음료",
  두유: "음료",
  건강음료: "음료",
  기능건강음료: "음료",
  건강기능음료: "음료",
  비타민음료: "음료",
  에너지음료: "음료",
  숙취해소: "음료",
  숙취해소음료: "음료",
  스포츠: "음료",
  "스포츠/이온음료": "음료",

  // 생활용품
  생활용품: "생활용품",
  생활잡화: "생활용품",
  가정용품: "생활용품",
  "홈/주방용품": "생활용품",
  홈주방용품: "생활용품",
  주방세제: "생활용품",
  세제: "생활용품",
  세면용품: "생활용품",
  목욕세면: "생활용품",
  샴푸린스: "생활용품",
  비누: "생활용품",
  핸드워시: "생활용품",
  구강용품: "생활용품",
  면도용품: "생활용품",
  립케어: "생활용품",
  화장품: "생활용품",
  기초화장품: "생활용품",
  위생용품: "생활용품",
  기타위생용품: "생활용품",
  생리용품: "생활용품",
  여성용품: "생활용품",
  물티슈: "생활용품",
  티슈: "생활용품",
  방향제: "생활용품",
  탈취제: "생활용품",
  신변잡화: "생활용품",
  용기: "생활용품",
  반려동물용품: "생활용품",
  반려용품: "생활용품",
  사료: "생활용품",
  의약건강기능: "생활용품",
  의약외품: "생활용품",
  의약외품부품: "생활용품",
  건강기능: "생활용품",
  건강기능식품: "생활용품",
};

/**
 * 원본 카테고리를 통일된 대분류로 변환
 */
export function mapToUnifiedCategory(
  originalCategory: string | null
): UnifiedCategory | null {
  if (!originalCategory) return null;

  // 직접 매핑 확인
  if (originalCategory in CATEGORY_MAPPING) {
    return CATEGORY_MAPPING[originalCategory];
  }

  // 키워드 기반 매핑 (fallback)
  const lower = originalCategory.toLowerCase();

  if (
    lower.includes("즉석") ||
    lower.includes("간편") ||
    lower.includes("밥") ||
    lower.includes("국") ||
    lower.includes("찌개") ||
    lower.includes("반찬") ||
    lower.includes("면") ||
    lower.includes("식사")
  ) {
    return "식품/간편식";
  }

  if (
    lower.includes("과자") ||
    lower.includes("스낵") ||
    lower.includes("쿠키") ||
    lower.includes("캔디") ||
    lower.includes("초콜릿") ||
    lower.includes("젤리")
  ) {
    return "과자/스낵";
  }

  if (
    lower.includes("음료") ||
    lower.includes("커피") ||
    lower.includes("주스") ||
    lower.includes("탄산") ||
    lower.includes("우유") ||
    lower.includes("생수") ||
    lower.includes("요구르트")
  ) {
    return "음료";
  }

  if (
    lower.includes("생활") ||
    lower.includes("세제") ||
    lower.includes("티슈") ||
    lower.includes("샴푸") ||
    lower.includes("화장품") ||
    lower.includes("위생")
  ) {
    return "생활용품";
  }

  return "기타";
}

/**
 * 통일 카테고리 목록
 */
export const UNIFIED_CATEGORIES: UnifiedCategory[] = [
  "식품/간편식",
  "과자/스낵",
  "음료",
  "생활용품",
  "기타",
];
